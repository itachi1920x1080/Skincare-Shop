{% extends 'base.html' %}

{% block content %}
<div class="admin-container" style="padding: 40px; max-width: 1200px; margin: 0 auto;">
    <h2 style="margin-bottom: 25px; color: #333;">Customer Orders Management</h2>

    <div style="background: #fff; border-radius: 12px; box-shadow: 0 5px 20px rgba(0,0,0,0.05); overflow: hidden;">
        <table style="width: 100%; border-collapse: collapse;">
            <thead>
                <tr style="background: #f8f9fa; border-bottom: 2px solid #eee;">
                    <th style="padding: 15px; text-align: left;">Order ID</th>
                    <th style="padding: 15px; text-align: left;">Customer</th>
                    <th style="padding: 15px; text-align: left;">Date</th>
                    <th style="padding: 15px; text-align: left;">Total</th>
                    <th style="padding: 15px; text-align: left;">Status</th>
                    <th style="padding: 15px; text-align: left;">Action</th>
                </tr>
            </thead>
            <tbody>
                {% for order in orders %}
                <tr style="border-bottom: 1px solid #eee;">
                    <td style="padding: 15px; font-weight: bold;">#{{ order.id }}</td>
                    <td style="padding: 15px;">{{ order.username }}</td>
                    <td style="padding: 15px; color: #666;">{{ order.order_date }}</td>
                    <td style="padding: 15px; font-weight: bold;">${{ "%.2f"|format(order.total_amount) }}</td>
                    <td style="padding: 15px;">
                        <span style="padding: 5px 12px; border-radius: 20px; font-size: 12px; font-weight: bold;
                            background: {{ '#d4edda' if order.status == 'completed' else '#fff3cd' }};
                            color: {{ '#155724' if order.status == 'completed' else '#856404' }};">
                            {{ order.status | capitalize }}
                        </span>
                    </td>
                    <td style="padding: 15px;">
                        <form action="{{ url_for('update_order_status', order_id=order.id) }}" method="POST" style="display: flex; gap: 5px;">
                            <select name="status" style="padding: 5px; border-radius: 4px; border: 1px solid #ddd;">
                                <option value="pending" {% if order.status == 'pending' %}selected{% endif %}>Pending</option>
                                <option value="completed" {% if order.status == 'completed' %}selected{% endif %}>Completed</option>
                                <option value="cancelled" {% if order.status == 'cancelled' %}selected{% endif %}>Cancelled</option>
                            </select>
                            <button type="submit" style="background: #000; color: #fff; border: none; padding: 6px 12px; border-radius: 4px; cursor: pointer;">Update</button>
                        </form>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}